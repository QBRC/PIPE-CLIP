'''Define CLIP class'''
import sys
import gzip
import logging
import pysam


class CLIP:
	def __init__(self,fileaddr):
		self.filepath = fileaddr
		self.originalBAM = None
		self.filteredAlignment = []
		self.clusters = {} #Dictionary of bed instance
		self.mutations = {} #Dictionary of bed instance
		self.wig = strand
		self.coverage = 0 #"reads coverage of this sample"
		self.bamheader = None
	
	def __str__(self):
		pass

	def testInput(self):
	'''Test the input file format, return tuple (status, filepath)
		Status: True:file is ready to use; False: wrong file, program stop
	'''
		#test if file has header
		try:
			self.header = pysam.view("-H",self.filepath)
		except:
			pass
		#test if it is BAM
		try:
			infile = gzip.open(self.filepath)
			infile.readline()
		except:#cannot read line, should be sam
			





